var LINQ = require('node-linq').LINQ;

var filter = function(jsonObject){
	console.log(jsonObject.payload[0]);
	console.log("lengt " + jsonObject.payload.length);
	var filtered = new LINQ(jsonObject.payload)
		.Where(function(p){return p.Drm && p.EpisodeCount > 0 && p.Image != null})
		.ToArray();
	console.log(filtered);
	return filtered;
};

module.exports.FilterFullPayLoad = filter;